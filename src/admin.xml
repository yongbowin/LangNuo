<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>

    <package name="admin" namespace="/admin" extends="default">

        <!-- 定义一个拦截器 -->
		<interceptors>
			<interceptor name="authority"
				class="com.interceptor.LoginInterceptor">
			</interceptor>
			<!-- 拦截器栈 -->
			<interceptor-stack name="mydefault">
				<interceptor-ref name="defaultStack" />
				<interceptor-ref name="authority" />
			</interceptor-stack>
		</interceptors>

		<!-- 定义全局Result -->
		<global-results>
			<!-- 当返回login视图名时，转入/login.jsp页面 -->
			<result name="login">/jsp/admin/login.jsp</result>
			<!-- 定义官网后台的错误页面为 error.jsp -->
			<result name="error">/jsp/error.jsp</result>
		</global-results>
		
		<action name="login" class="com.interceptor.LoginAction">
			<result name="success">/welcome.jsp</result>
			<result name="error">/jsp/admin/login.jsp</result>
			<result name="input">/jsp/admin/login.jsp</result>
		</action>
		<!-- 拦截器结束！ -->

        <action name="login" class="com.admin.Login">
        	<result name="success">/jsp/admin/login.jsp</result>
        </action>
        
        <action name="index" class="com.admin.Login" method="goIndex">
        	<result name="success">/jsp/admin/index.jsp</result>
        	<result name="error" type="redirectAction">login</result>
        </action>
		
		<action name="do_login" class="com.admin.Login" method="DoLogin">
        	<result name="success" type="redirectAction">index</result>
        	<result name="error">/jsp/admin/login.jsp</result>
        </action>
        
        <!-- Add actions here -->
       
    </package>
</struts>
